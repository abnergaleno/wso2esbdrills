<?xml version="1.0" encoding="UTF-8"?>
<api context="/waveintegra" name="api_integrawave" xmlns="http://ws.apache.org/ns/synapse">
  <resource methods="GET" protocol="http">
    <inSequence>
      <send>
        <endpoint key="gov:esbconfig/endpoints/EdcIntegraEsbRegRes/ep_wavemaker.xml"/>
      </send>
    </inSequence>
    <outSequence>
      <switch source="get-property('query.param.format')">
        <case regex="xml">
          <log description="logXML" level="custom" separator="============">
            <property name="______LOGMESSAGE[]" value="queryparamformat==XML"/>
          </log>
        </case>
        <case regex="json"/>
        <default>
          <log description="logDefault" level="custom" separator="============">
            <property name="______LOGMESSAGE[]" value="queryparamformat!=XML||JSON"/>
          </log>
        </default>
      </switch>
      <send/>
    </outSequence>
    <faultSequence/>
  </resource>
</api>
